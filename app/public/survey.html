
<head>
  <meta charset="UTF-8">
  <title>Friend Finder</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  

</head>
<body>

  <div class="container">
    	
    <h1>Survey</h1>
	
     <div class="form-group">
          <h3>About You</h3>
		
  		<label class="control-label" for="inputSmall">Name</label>
  		<input class="form-control input-sm" type="text" id="inputName"><br>

 		<label class="control-label" for="inputSmall">Photo</label>
  	     <input class="form-control input-sm" type="text" id="inputPhoto"><br>		


     <h3>Survey</h3>
          <p>
      	<label for="select" class="control-label">Question 1</label><br>
          This is Question One <br>
      	<div class="col-md-3">
               <select class="form-control" id="selectOne" placeholder="Choose an Option">
                    <option disabled selected value> -- select an option -- </option>
	        	     <option value=1>1 (Strongly Disagree)</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>;
                    <option value=5>5 (Strongly Agree)</option>
	         </select>
          </div>
       	<br><br></p>
          <p>
       	<label for="select" class="control-label">Question 2</label><br>
          This is question Two<br>
      	<div class="col-md-3">
	         <select class="form-control" id="selectTwo">
                    <option disabled selected value> -- select an option -- </option>
                    <option value=1>1 (Strongly Disagree)</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5 (Strongly Agree)</option>
               </select>
          </div>
          <br><br></p>
          <p>
          <label for="select" class="control-label">Question 3</label><br>
          This is question Three<br>
          <div class="col-md-3">
               <select class="form-control" id="selectThree">
                    <option disabled selected value> -- select an option -- </option>
	               <option value=1>1 (Strongly Disagree)</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5 (Strongly Agree)</option>
               </select>
          </div>
          <br><br></p>
          <p>
          <label for="select" class="control-label">Question 4</label><br>
          This is question Four<br>
          <div class="col-md-3">
               <select class="form-control" id="selectFour">
                    <option disabled selected value> -- select an option -- </option>
                    <option value=1>1 (Strongly Disagree)</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5 (Strongly Agree)</option>
               </select>
          </div>
          <br><br></p>
          <p>
          <label for="select" class="control-label">Question 5</label><br>
          This is question Five<br>
          <div class="col-md-3">
               <select class="form-control" id="selectFive">
                    <option disabled selected value> -- select an option -- </option>
                    <option value=1>1 (Strongly Disagree)</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5 (Strongly Agree)</option>
        	     </select>
          </div>
          <br><br></p>
          <p>
          <label for="select" class="control-label">Question 6</label><br>
          This is question Six<br>
          <div class="col-md-3">
               <select class="form-control" id="selectSix">
                    <option disabled selected value> -- select an option -- </option>
                    <option value=1>1 (Strongly Disagree)</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5 (Strongly Agree)</option>
               </select>
          </div>
          <br><br></p>
          <p>
          <label for="select" class="control-label">Question 7</label><br>
          This is question Seven<br>
          <div class="col-md-3">
               <select class="form-control" id="selectSeven">
                    <option disabled selected value> -- select an option -- </option>
          		<option value=1>1 (Strongly Disagree)</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5 (Strongly Agree)</option>
               </select>
          </div>
          <br><br></p>
          <p>
          <label for="select" class="control-label">Question 8</label><br>
          This is question Eight<br>
          <div class="col-md-3">
               <select class="form-control" id="selectEight">
                    <option disabled selected value> -- select an option -- </option>
                    <option value=1>1 (Strongly Disagree)</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5 (Strongly Agree)</option>
               </select>
          </div>
          <br><br></p>
          <p>
          <label for="select" class="control-label">Question 9</label><br>
          This is question Nine<br>
          <div class="col-md-3">
               <select class="form-control" id="selectNine">
          		<option disabled selected value> -- select an option -- </option>
                    <option value=1>1 (Strongly Disagree)</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5 (Strongly Agree)</option>
               </select>
          </div>
          <br><br></p>
          <p>
          <label for="select" class="control-label">Question 10</label><br>
          This is question Ten<br>
          <div class="col-md-3">
               <select class="form-control" id="selectTen">
                    <option disabled selected value> -- select an option -- </option>
          		<option value=1>1 (Strongly Disagree)</option>
          		<option value=2>2</option>
          		<option value=3>3</option>
          		<option value=4>4</option>
          		<option value=5>5 (Strongly Agree)</option>
               </select>
          </div><br><br></p>
       	<button type="submit" id="submit-btn" class="btn btn-primary">Submit</button>
	</div>
 </div>

 <div class="modal" id="modalPal">
     <div class="modal-dialog">
          <div class="modal-content">
               <div class="modal-header">
                    <h4 class="modal-title"></h4>
               </div>
               <div class="modal-body" id="modal-pal-results">
                    <p></p>
               </div>
               <div class="modal-footer">
                    <button type="button" class="btn btn-default close-edit" data-dismiss="modal">Close</button>
               </div>
          </div>
     </div>
</div>


<script type="text/javascript">

  $(".close-edit").on("click", function() {
     if ($(".modal-title").text() == "Meet Your New Pal") {
          window.location.href = "/";    
      } else {
          $("#modalPal").hide()
     }
  })
  
   var surveyResults = {};

  $("#submit-btn").on("click", function() {

    if ($("#inputName").val().trim() == "" || $("#inputPhoto").val().trim()== "") {
  
      $(".modal-title").text("Error");
      $(".modal-body").text("Name and Photo cannot be blank");
      $("#modalPal").show();

    } else {
      
      surveyResults={
      name: $("#inputName").val().trim(),
      photo: $("#inputPhoto").val().trim(),
      scores: [$("#selectOne").val(),$("#selectTwo").val(),$("#selectThree").val(),$("#selectFour").val(),$("#selectFive").val(),$("#selectSix").val(),$("#selectSeven").val(),$("#selectEight").val(),$("#selectNine").val(),$("#selectTen").val()]
      }
      
      $.ajax({
        type: "POST",
        url: "/api/friends",
        data: surveyResults,
        success: function(data) {
            
            var pic = $("<img>")
            pic.attr("src", data.photo);
            pic.attr("height", "200px");
            pic.attr("width", "200px");
            $(".modal-title").text("Meet Your New Pal");
            $(".modal-body").text("Name:  " + data.name);
            $(".modal-body").append("<br>");
            $(".modal-body").append(pic);
            $("#modalPal").show();

        }


      });
   }
    
 });


  </script>

</body>
</html>
